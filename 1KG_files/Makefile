include $(PROJECT_BASE_DIR)/Makefile.config

.PHONY: all clean
all: $(addsuffix $(TRACKING_SUCCESS_SUFFIX),$(patsubst %,$(KG_GENOTYPES_PREFIX)%$(KG_GENOTYPES_SUFFIX),$(CHRS)) $(patsubst %,$(KG_GENOTYPES_PREFIX)%$(KG_GENOTYPES_SUFFIX).tbi,$(CHRS)))

$(addsuffix $(TRACKING_SUCCESS_SUFFIX),$(patsubst %,$(KG_GENOTYPES_PREFIX)%$(KG_GENOTYPES_SUFFIX),$(CHRS)) $(patsubst %,$(KG_GENOTYPES_PREFIX)%$(KG_GENOTYPES_SUFFIX).tbi,$(CHRS))):
	$(call log_handler,$(subst $(TRACKING_SUCCESS_SUFFIX),,$@),wget $(KG_DOWNLOAD_SITE)/$(notdir $(subst $(TRACKING_SUCCESS_SUFFIX),,$@)))

clean:
	rm -f $(patsubst %,$(1KG_GENOTYPES_PREFIX)%$(1KG_GENOTYPES_SUFFIX),$(CHRS))
	rm -f $(patsubst %,$(1KG_GENOTYPES_PREFIX)%$(1KG_GENOTYPES_SUFFIX)$(TRACKING_SUCCESS_SUFFIX),$(CHRS))
	rm -f $(patsubst %,$(1KG_GENOTYPES_PREFIX)%$(1KG_GENOTYPES_SUFFIX)$(TRACKING_FAIL_SUFFIX),$(CHRS))
